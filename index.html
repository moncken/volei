<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Montador de Times de Vôlei</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header class="page-header">
            <div>
                <p class="eyebrow">Ferramenta rápida</p>
                <h1>Montador de Times de Vôlei</h1>
                <p class="subtitle">Cadastre sua turma, selecione quem vai jogar e gere times equilibrados em segundos.</p>
            </div>
            <div class="header-actions">
                <button class="ghost" onclick="resetAllData()">Limpar Tudo</button>
                <button onclick="toggleAddPlayerForm()">Adicionar Jogador</button>
            </div>
        </header>

        <section id="summary-cards" class="stats-grid">
            <div class="stat-card">
                <p class="label">Cadastrados</p>
                <p id="registered-count" class="value">0</p>
            </div>
            <div class="stat-card">
                <p class="label">Selecionados</p>
                <p id="selected-count" class="value">0</p>
            </div>
            <div class="stat-card">
                <p class="label">Equilíbrio Médio</p>
                <p id="balance-info" class="value">-</p>
            </div>
            <div class="stat-card">
                <p class="label">Modo Ativo</p>
                <p id="mode-info" class="value">Aguardando seleção</p>
            </div>
        </section>

        <section id="player-management">
            <div class="section-header">
                <div>
                    <h2>Gerenciar Jogadores</h2>
                    <p>Edite, remova ou cadastre novos atletas. Use níveis para equilibrar os times.</p>
                </div>
                <div class="inline-actions">
                    <button class="ghost" onclick="toggleAddPlayerForm()">Cadastrar Jogador</button>
                </div>
            </div>

            <div id="add-player-form" class="hidden">
                <div class="form-row">
                    <div class="input-group">
                        <label for="newPlayerName">Nome do Jogador</label>
                        <input type="text" id="newPlayerName" placeholder="Ex.: Ana Silva">
                    </div>
                    <div class="input-group">
                        <label for="newPlayerLevel">Nível</label>
                        <select id="newPlayerLevel">
                            <option value="iniciante">Iniciante</option>
                            <option value="intermediario">Intermediário</option>
                            <option value="avancado">Avançado</option>
                        </select>
                    </div>
                </div>
                <div class="form-actions">
                    <button onclick="registerNewPlayer()" id="submit-player-btn">Cadastrar</button>
                    <button class="ghost" onclick="cancelPlayerForm()">Cancelar</button>
                </div>
                <p id="form-helper" class="helper">Use nomes únicos para evitar confusões. Você pode editar depois.</p>
            </div>

            <div id="registered-players-list" class="card-list" aria-live="polite"></div>
        </section>

        <section id="player-selection-section">
            <div class="section-header">
                <div>
                    <h2>Selecionar Jogadores para Partida</h2>
                    <p>Ative quem vai para o jogo. O botão abaixo libera a geração de times quando houver jogadores suficientes.</p>
                </div>
                <div class="form-row compact">
                    <div class="input-group stretch">
                        <label for="playerFilter">Filtrar por nome</label>
                        <input type="search" id="playerFilter" placeholder="Digite para filtrar" oninput="filterPlayers()">
                    </div>
                    <button class="ghost" onclick="clearSelection()">Limpar seleção</button>
                </div>
            </div>
            <div id="available-players-list">
                <!-- Available registered players to select for current game -->
            </div>
        </section>

        <div class="cta-bar">
            <button id="generate-teams-btn" onclick="generateTeams()" disabled>Gerar Times</button>
            <p class="helper">Selecione pelo menos 6 jogadores. Com 24 jogadores, um torneio é criado automaticamente.</p>
        </div>

        <div id="teams-output" class="hidden">
            <h2>Times Formados</h2>
            <div id="tournament-bracket" class="hidden">
                <h3>Torneio</h3>
                <div class="bracket">
                    <!-- Tournament bracket -->
                </div>
            </div>
            <div id="non-tournament-teams" class="hidden">
                <h3>Times Iniciais</h3>
                <div id="initial-teams" class="teams-grid"></div>
                <div id="rotation-plans" class="hidden">
                    <h3>Próximas Rodadas (Com Rotação)</h3>
                    <div id="outside-players-info"></div>
                    <div id="round-rotation"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>